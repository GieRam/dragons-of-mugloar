package dragons.clients.game

import spock.lang.Specification

class GameClientSpec extends Specification {

//    def gameClient
//
//    CloseableHttpClient httpClient
//
//    def xmlMapper
//
//    def gameUrl
//
//    def 'setup'() {
//        httpClient = Mock(CloseableHttpClient)
//        xmlMapper = Mock(ObjectMapper)
//        gameUrl = "http://www.dragonsofmugloar.com/api/game"
//
//        gameClient = new GameClient(httpClient, xmlMapper,"http://www.dragonsofmugloar.com/api/game")
//    }
//
//    def 'should execute http request and read response value on status 200'() {
//        given:
//            def response = Stub(HttpResponse)
//            def statusLine = Stub(StatusLine)
//            response.getStatusLine() >> statusLine
//            statusLine.getStatusCode() >> 200
//
//            httpClient.execute(_) >> response
//        when:
//            gameClient.getGame()
//        then:
//            1 * httpClient.execute(_)
//            1 * xmlMapper.readValue(_, Game)
//    }

}
